{"version":3,"sources":["assets/parallaxForest/01_Mist.png","assets/parallaxForest/02_Bushes.png","assets/parallaxForest/04_Forest.png","assets/parallaxForest/06_Forest.png","assets/parallaxForest/07_Forest.png","assets/parallaxForest/08_Forest.png","assets/parallaxForest/09_Forest.png","App/Components/ContentWithParallax.tsx","App/App.tsx","App/Hooks/UseDevcieOrientation.tsx","index.tsx"],"names":["ContentWrapper","styled","div","pLayer","animated","Layer1","f9","Layer2","f8","Layer3","f7","Layer4","f6","Layer5","f4","Layer6","f2","Layer7","f1","ContentLayer","trans1","x","y","trans2","trans3","trans4","trans5","trans6","trans7","ContentWithParallax","cProps","useSpring","config","mass","tension","friction","props","set","parallaxValue","getValue","style","backgroundPosition","interpolate","children","pHeader","pLayout","Header","pFooter","Footer","pContent","Content","boxShadow","AppContainer","Layout","Card","pCard","App","useState","gyroEnabled","setGyroEnabled","setParallaxValue","error","setError","orientation","setOrientation","onDeviceOrientation","event","alpha","beta","gamma","revokeAccessAsync","a","window","removeEventListener","requestAccessAsync","DeviceOrientationEvent","Error","requestPermission","DeviceMotionEvent","permission","addEventListener","requestAccess","useCallback","revokeAccess","useEffect","useDeviceOrientation","newValue","matchMedia","matches","console","log","onMouseMove","clientX","clientY","span","type","onChange","toggleState","disabled","ReactDOM","render","StrictMode","document","body"],"mappings":"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","file":"static/js/main.9b7049da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/01_Mist.f79e46a8.png\";","export default __webpack_public_path__ + \"static/media/02_Bushes.db4aa977.png\";","export default __webpack_public_path__ + \"static/media/04_Forest.ce3c2506.png\";","export default __webpack_public_path__ + \"static/media/06_Forest.2ecdfc49.png\";","export default __webpack_public_path__ + \"static/media/07_Forest.6a7a2c18.png\";","export default __webpack_public_path__ + \"static/media/08_Forest.19519dec.png\";","export default __webpack_public_path__ + \"static/media/09_Forest.1822e0eb.png\";","import React from 'react';\nimport styled from 'styled-components';\nimport { useSpring, animated } from 'react-spring';\n\nimport f1 from '../../assets/parallaxForest/01_Mist.png';\nimport f2 from '../../assets/parallaxForest/02_Bushes.png';\nimport f4 from '../../assets/parallaxForest/04_Forest.png';\nimport f6 from '../../assets/parallaxForest/06_Forest.png';\nimport f7 from '../../assets/parallaxForest/07_Forest.png';\nimport f8 from '../../assets/parallaxForest/08_Forest.png';\nimport f9 from '../../assets/parallaxForest/09_Forest.png';\n\nconst ContentWrapper = styled.div`\n    position: relative;\n    height: 100%;\n    background-color: #defdfd;\n`;\n\nconst pLayer = styled(animated.div)`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-size: cover;\n    background-repeat: repeat-x;\n    background-position-y: bottom;\n`;\n\nconst Layer1 = styled(pLayer)`\n    z-index: 1;\n    background-image: url(${f9});\n`;\n\nconst Layer2 = styled(pLayer)`\n    z-index: 2;\n    background-image: url(${f8});\n`;\n\nconst Layer3 = styled(pLayer)`\n    z-index: 3;\n    background-image: url(${f7});\n`;\n\nconst Layer4 = styled(pLayer)`\n    z-index: 4;\n    background-image: url(${f6});\n`;\n\nconst Layer5 = styled(pLayer)`\n    z-index: 5;\n    background-image: url(${f4});\n`;\n\nconst Layer6 = styled(pLayer)`\n    z-index: 6;\n    background-image: url(${f2});\n`;\n\nconst Layer7 = styled(pLayer)`\n    z-index: 7;\n    background-image: url(${f1});\n`;\n\nconst ContentLayer = styled.div`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 8;\n    overflow-x: hidden;\n    overflow-y: auto;\n`;\n\nconst trans1 = (x: number, y: number): string => `${-x / 24}px, 100%`;\nconst trans2 = (x: number, y: number): string => `${-x / 20}px, 100%`;\nconst trans3 = (x: number, y: number): string => `${-x / 16}px, 100%`;\nconst trans4 = (x: number, y: number): string => `${-x / 12}px, 100%`;\nconst trans5 = (x: number, y: number): string => `${-x / 8}px, 100%`;\nconst trans6 = (x: number, y: number): string => `${-x / 4}px, 100%`;\nconst trans7 = (x: number, y: number): string => `${-x / 2}px, 100%`;\n\ninterface MyProps {\n    children?: React.ReactNode;\n    parallaxValue: number;\n}\n\nconst ContentWithParallax: React.FunctionComponent<MyProps> = cProps => {\n    const [props, set] = useSpring(() => ({ x: 0, config: { mass: 10, tension: 550, friction: 140 } }));\n\n    if (cProps.parallaxValue !== props.x.getValue()) {\n        set({ x: cProps.parallaxValue });\n    }\n\n    return (\n        <ContentWrapper>\n            <Layer1 style={{ backgroundPosition: props.x.interpolate(trans1 as any) }} />\n            <Layer2 style={{ backgroundPosition: props.x.interpolate(trans2 as any) }} />\n            <Layer3 style={{ backgroundPosition: props.x.interpolate(trans3 as any) }} />\n            <Layer4 style={{ backgroundPosition: props.x.interpolate(trans4 as any) }} />\n            <Layer5 style={{ backgroundPosition: props.x.interpolate(trans5 as any) }} />\n            <Layer6 style={{ backgroundPosition: props.x.interpolate(trans6 as any) }} />\n            <Layer7 style={{ backgroundPosition: props.x.interpolate(trans7 as any) }} />\n\n            <ContentLayer>\n                {cProps.children}\n            </ContentLayer>\n        </ContentWrapper>\n    );\n}\n\nexport default ContentWithParallax;","import React, { useState } from 'react';\n\nimport styled from 'styled-components';\nimport { Layout as pLayout, Button, Card as pCard, Row, Col, Switch } from 'antd';\n\nimport ContentWithParallax from './Components/ContentWithParallax';\nimport { useDeviceOrientation } from './Hooks/UseDevcieOrientation';\n\nconst pHeader = pLayout.Header;\nconst pFooter = pLayout.Footer;\nconst pContent = pLayout.Content;\n\nconst boxShadow = '7px 7px 0px 0px rgba(0, 0, 0, .25)';\n\nconst AppContainer = styled.div`\n  height: 100%;\n  display: block;\n  text-align: center;\n`;\n\nconst Header = styled(pHeader)`\n  background: #7dbcea;\n  box-shadow: ${boxShadow};\n`;\n\nconst Layout = styled(pLayout)`\n  height: 100%;\n`;\n\nconst Footer = styled(pFooter)`\n  background: #7dbcea;\n`;\n\nconst Content = styled(pContent)`\n  flex: 1;\n`;\n\nconst Card = styled(pCard)`\n  display: inline-block;\n  width: 100%;\n  max-width: 300;\n  margin: 15px;\n  box-shadow: ${boxShadow};\n`;\n\nfunction App() {\n  const [gyroEnabled, setGyroEnabled] = useState(false);\n  const [parallaxValue, setParallaxValue] = useState(0);\n\n  const { orientation, requestAccess, revokeAccess } = useDeviceOrientation();\n\n  const onToggle = (toggleState: boolean): void => {\n    setGyroEnabled(toggleState);\n    if (toggleState) {\n      requestAccess();\n    }\n    else {\n      revokeAccess();\n    }\n  };\n\n  if (gyroEnabled && orientation !== null && orientation.gamma !== null && orientation.alpha !== null) {\n    let newValue = orientation.alpha * 100;\n    const mql = window.matchMedia(\"(orientation: portrait)\");\n\n    if (mql.matches) {\n      newValue = orientation.gamma * 100;\n    }\n\n    if (parallaxValue !== newValue) {\n      setParallaxValue(newValue);\n    }\n    console.log(orientation);\n  }\n\n\n  return (\n    <AppContainer onMouseMove={({ clientX: x, clientY: y }) => { if (!gyroEnabled) { setParallaxValue(x); } }}>\n      <Layout>\n        <Header>\n          <h1>\n            Payks VR Demos: Overview\n            </h1>\n        </Header>\n\n        <Content>\n          <ContentWithParallax parallaxValue={parallaxValue}>\n            <Row>\n              <Col span={8}></Col>\n              <Col span={8}>\n                <Card>\n                  <h3>\n                    VR Demos designed for Oculus Quest 2\n                  </h3>\n\n                  <Button type=\"primary\">Start VR</Button>\n                </Card>\n\n                <Card>\n                  <h3>\n                    360 Demos designed mobile phones, tablets ect\n                  </h3>\n\n                  <Button type=\"primary\">Start 360</Button>\n                </Card>\n              </Col>\n              <Col span={8}></Col>\n            </Row>\n          </ContentWithParallax>\n        </Content>\n\n        <Footer>\n          Use Gyroscope <Switch onChange={onToggle} disabled={!window.DeviceOrientationEvent || !DeviceOrientationEvent.requestPermission} />\n        </Footer>\n      </Layout>\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import { useCallback, useEffect, useState } from 'react';\n\ntype DeviceOrientation = {\n  alpha: number | null,\n  beta: number | null,\n  gamma: number | null,\n}\n\ntype UseDeviceOrientationData = {\n  orientation: DeviceOrientation | null,\n  error: Error | null,\n  requestAccess: () => Promise<boolean>,\n  revokeAccess: () => Promise<void>,\n};\n\nexport const useDeviceOrientation = (): UseDeviceOrientationData => {\n  const [error, setError] = useState<Error | null>(null);\n  const [orientation, setOrientation] = useState<DeviceOrientation | null>(null);\n\n  const onDeviceOrientation = (event: DeviceOrientationEvent): void => {\n    setOrientation({\n      alpha: event.alpha,\n      beta: event.beta,\n      gamma: event.gamma,\n    });\n  };\n\n  const revokeAccessAsync = async (): Promise<void> => {\n    window.removeEventListener('deviceorientation', onDeviceOrientation);\n    setOrientation(null);\n  };\n\n  const requestAccessAsync = async (): Promise<boolean> => {\n    if (!window.DeviceOrientationEvent) {\n      setError(new Error('Device orientation event is not supported by your browser'));\n      return false;\n    }\n\n    if (\n      DeviceOrientationEvent.requestPermission\n      && typeof DeviceMotionEvent.requestPermission === 'function'\n    ) {\n      let permission: PermissionState;\n      try {\n        permission = await DeviceOrientationEvent.requestPermission();\n      } catch (err) {\n        setError(err);\n        return false;\n      }\n      if (permission !== 'granted') {\n        setError(new Error('Request to access the device orientation was rejected'));\n        return false;\n      }\n    }\n\n    window.addEventListener('deviceorientation', onDeviceOrientation);\n\n    return true;\n  };\n\n  const requestAccess = useCallback(requestAccessAsync, []);\n  const revokeAccess = useCallback(revokeAccessAsync, []);\n\n  useEffect(() => {\n    return (): void => {\n      revokeAccess();\n    };\n  }, [revokeAccess]);\n\n  return {\n    orientation,\n    error,\n    requestAccess,\n    revokeAccess,\n  };\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nimport App from './App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.body\n);\n\n"],"sourceRoot":""}